"use strict";angular.module("html2js",["/angular-time-picker.tpl.html"]),angular.module("/angular-time-picker.tpl.html",[]).run(["$templateCache",function(a){a.put("/angular-time-picker.tpl.html",'<div class="angular-time-picker-rapper">\n\t<span class="angular-time-picker-button"\n\t\tng-class="theme"\n\t\ttitle="Time Range Filter"\n\t\tng-click="dropdownToggleState = !dropdownToggleState;">\n\t\t\t<span ng-show="!noRange">{{ timeSettings.fromHour + \':\' + timeSettings.fromMinute + \' - \' + timeSettings.toHour + \':\' + timeSettings.toMinute }}</span>\n\t\t\t<span ng-show="noRange">{{ timeSettings.fromHour + \':\' + timeSettings.fromMinute }}</span>\n\t\t<i class="angular-time-picker-caret" ng-class="theme"></i>\n\t</span>\n\t<div ng-show="dropdownToggleState" class="angular-time-picker-dropdown__menu  angular-time-picker-theme" ng-class="theme">\n\t\t<div>\n\t\t\tStart:\n\t\t\t<span class="angular-time-picker-float--right">\n\t\t\t\t<!-- `browser-default` class is being used as materializecss framework override default select css-->\n\t\t\t\t<!-- Thus to prevent this, adding a class. Materializecss is a famous framework for Material Design. -->\n\t\t\t\t<select ng-model="startingHour" class="browser-default">\n\t\t\t\t\t<option ng-repeat="option in startingTimeHoursRange" ng-disabled="option.disabled" value="{{option.value}}">{{option.name}}</option>\n\t\t\t\t</select>\n\t\t\t\t:\n\t\t\t\t<select ng-model="startingMinute" class="browser-default">\n\t\t\t\t\t<option ng-repeat="option in startingTimeHMinutesRange" ng-disabled="option.disabled" value="{{option.value}}">{{option.name}}</option>\n\t\t\t\t</select>\n\t\t\t</span>\n\t\t</div>\n\t\t<div class="angular-time-picker-push--top" ng-show="!noRange">\n\t\t\tEnd:\n\t\t\t<span class="angular-time-picker-float--right">\n\t\t\t\t<select ng-model="endingHour" class="browser-default">\n\t\t\t\t\t<option ng-repeat="option in endingTimeHoursRange" ng-disabled="option.disabled" value="{{option.value}}">{{option.name}}</option>\n\t\t\t\t</select>\n\t\t\t\t:\n\t\t\t\t<select ng-model="endingMinute" class="browser-default">\n\t\t\t\t\t<option ng-repeat="option in endingTimeHMinutesRange" ng-disabled="option.disabled" value="{{option.value}}">{{option.name}}</option>\n\t\t\t\t</select>\n\t\t\t</span>\n\t\t</div>\n\t\t<div class="angular-time-picker-push--top">\n\t\t\t<button type="button" ng-click="resetToOriginalTimeSettings()">Reset</button>\n\t\t\t<button type="button" class="angular-time-picker-push-half--left  angular-time-picker-float--right  angular-time-picker-apply-btn" ng-click="applyTimeRangeFilter()">Apply</button>\n\t\t\t<button type="button" class="angular-time-picker-push-half--left  angular-time-picker-float--right  angular-time-picker-cancel-btn" ng-click="closeTimeFilterDropdown()">Cancel</button>\n\t\t</div>\n\t</div>\n</div>\n')}]),angular.module("wingify.timePicker",["html2js"]).directive("wyTimePicker",["$timeout",function(a){return{restrict:"EA",replace:!0,templateUrl:"/angular-time-picker.tpl.html",scope:{timeSettings:"=",dropdownToggleState:"=?",format:"=?",theme:"=?",noRange:"=",noValidation:"=",applyCallback:"&",clearCallback:"&"},link:function(b,c){var d,e=[],f=[];for(b.startingTimeHoursRange=[],b.endingTimeHoursRange=[],b.startingTimeHMinutesRange=[],b.endingTimeHMinutesRange=[],b.timeSettings=b.timeSettings||{},b.theme=b.theme?"angular-time-picker-"+b.theme:"angular-time-picker-light",b.timeHourFormat=b.format&&12===parseInt(b.format,10)?12:24,d=0;d<b.timeHourFormat;d++)e.push({name:d<10?"0"+d:d+"",value:d<10?"0"+d:d+""});for(d=0;d<60;d++)f.push({name:d<10?"0"+d:d+"",value:d<10?"0"+d:d+""});angular.copy(e,b.startingTimeHoursRange),angular.copy(f,b.startingTimeHMinutesRange),angular.copy(e,b.endingTimeHoursRange),angular.copy(f,b.endingTimeHMinutesRange),!b.noValidation&&b.timeSettings.toHour<b.timeSettings.fromHour&&(b.timeSettings.toHour=b.timeSettings.fromHour),b.updateTimeRangeFilter=function(){b.timeSettings.fromHour=b.startingHour,b.timeSettings.fromMinute=b.startingMinute,b.noRange||(b.timeSettings.toHour=b.endingHour,b.timeSettings.toMinute=b.endingMinute)},b.setInitialTimeRange=function(){angular.isUndefined(b.timeSettings.fromHour)&&(b.timeSettings.fromHour=b.startingTimeHoursRange[0].value),b.initStartingHour=b.startingHour=b.timeSettings.fromHour,angular.isUndefined(b.timeSettings.fromMinute)&&(b.timeSettings.fromMinute=b.endingTimeHMinutesRange[0].value),b.initStartingMinute=b.startingMinute=b.timeSettings.fromMinute,!b.noRange&&angular.isUndefined(b.timeSettings.toHour)&&(b.timeSettings.toHour=b.startingTimeHoursRange[b.timeHourFormat-1].value),b.initEndingHourHour=b.endingHour=b.timeSettings.toHour,!b.noRange&&angular.isUndefined(b.timeSettings.toMinute)&&(b.timeSettings.toMinute=b.endingTimeHMinutesRange[59].value),b.initEndingMinute=b.endingMinute=b.timeSettings.toMinute},b.resetToOriginalTimeSettings=function(){b.startingHour=b.initStartingHour,b.startingMinute=b.initStartingMinute,b.noRange||(b.endingHour=b.initEndingHourHour,b.endingMinute=b.initEndingMinute),b.applyTimeRangeFilter()},b.clearTimeRange=function(){b.clearCallback(),b.closeTimeFilterDropdown()},b.applyTimeRangeFilter=function(){b.updateTimeRangeFilter(),b.applyCallback(),b.closeTimeFilterDropdown()},b.closeTimeFilterDropdown=function(){b.dropdownToggleState=!1,b.startingHour=b.timeSettings.fromHour,b.startingMinute=b.timeSettings.fromMinute,b.noRange||(b.endingHour=b.timeSettings.toHour,b.endingMinute=b.timeSettings.toMinute)},b.validateHours=function(){if(b.startingHour!==b.endingHour)for(var a=0;a<f.length;a++)b.startingTimeHMinutesRange[a].disabled=!1,b.endingTimeHMinutesRange[a].disabled=!1;else b.startingMinute>=b.endingMinute?"00"!==b.endingMinute?(b.startingMinute=b.endingMinute-1,b.startingMinute=b.startingMinute<10?"0"+b.startingMinute:b.startingMinute+"",b.validateStartingMinuteTime()):"00"===b.endingMinute&&(b.endingMinute="01"):b.startingHour===b.endingHour&&(b.validateStartingMinuteTime(),b.validateEndingMinuteTime());b.areInitialSettingsValidated&&b.applyTimeRangeFilter()},b.validateStartingMinuteTime=function(){for(var a=0;a<f.length;a++)a>parseInt(b.endingMinute,10)-1&&a<f.length?b.startingTimeHMinutesRange[a].disabled=!0:b.startingTimeHMinutesRange[a].disabled=!1},b.validateEndingMinuteTime=function(){for(var a=0;a<f.length;a++)a>=0&&a<parseInt(b.startingMinute,10)+1?b.endingTimeHMinutesRange[a].disabled=!0:b.endingTimeHMinutesRange[a].disabled=!1},b.noRange||b.noValidation||(b.$watch("startingHour",function(a,c){if(a&&a!==c){for(var d=0;d<e.length;d++)d>=0&&d<parseInt(b.startingHour,10)?b.endingTimeHoursRange[d].disabled=!0:b.endingTimeHoursRange[d].disabled=!1;b.validateHours(b.startingHour,b.endingTimeHoursRange)}}),b.$watch("startingMinute",function(a,c){a&&a!==c&&b.startingHour===b.endingHour&&b.validateEndingMinuteTime()}),b.$watch("endingHour",function(a,c){if(a&&a!==c){for(var d=0;d<e.length;d++)d>parseInt(b.endingHour,10)&&d<e.length?b.startingTimeHoursRange[d].disabled=!0:b.startingTimeHoursRange[d].disabled=!1;b.validateHours(b.endingHour,b.startingTimeHoursRange)}}),b.$watch("endingMinute",function(a,c){a&&a!==c&&b.startingHour===b.endingHour&&(b.validateStartingMinuteTime(),b.areInitialSettingsValidated||(b.areInitialSettingsValidated=!0))})),a(function(){b.setInitialTimeRange()},0),c.bind("click",function(a){null!==a&&"function"==typeof a.stopPropagation&&a.stopPropagation()});var g=function(){b.closeTimeFilterDropdown(),b.$digest()};angular.element(document).bind("click",g),b.$on("$destroy",function(){return angular.element(document).unbind("click",g)})}}}]);